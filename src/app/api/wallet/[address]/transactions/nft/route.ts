import { Transaction, TypedTransaction } from "@src/interfaces/api";
import { getMoralisClient } from "@src/services/getMoralisClient";
import { weiToEther } from "@src/utils/blockchain/weiToEther";
import { NextRequest, NextResponse } from "next/server";

export async function GET(
	request: NextRequest,
	{ params }: { params: { address: string } }
) {
	const address = params.address;

	// const moralisClient = await getMoralisClient();
	// const transactionsRaw = await moralisClient.getTransaction(address);
	const transactionsRaw = [
		{
			hash: "0x2e35f4e60fe4f516e16f5e12258c752c7f502258df977359930d0fe6cbab645f",
			nonce: "9",
			transaction_index: "105",
			from_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
			from_address_label: null,
			to_address: "0x076c7794623d6fa831ecfa1125c22073c07087cd",
			to_address_label: null,
			value: "480908275712085417",
			gas: "21000",
			gas_price: "23510579041",
			receipt_cumulative_gas_used: "7492815",
			receipt_gas_used: "21000",
			receipt_status: "1",
			block_timestamp: "2024-03-22T18:40:47.000Z",
			block_number: "0x01296cab",
			block_hash:
				"0x40b7af271a2c1a87fb78e8cf66336390e75961114fdfb211aa31c1f6f2905640",
			category: "send",
			possible_spam: false,
			method_label: null,
			summary: "Sent 0.4809 ETH to 0x07...87cd",
			nft_transfers: [],
			erc20_transfers: [],
			native_transfers: [
				{
					from_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
					from_address_label: null,
					to_address: "0x076c7794623d6fa831ecfa1125c22073c07087cd",
					to_address_label: null,
					value: "480908275712085417",
					value_formatted: "0.48090827571208544",
					direction: "send",
					internal_transaction: false,
					token_symbol: "ETH",
					token_logo: "https://cdn.moralis.io/eth/0x.png",
				},
			],
		},
		{
			hash: "0xbeff5ac4c87f0689dd9becaedbaa6eced32511c7a2a3ca98c86105230e84e96a",
			nonce: "8",
			transaction_index: "56",
			from_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
			from_address_label: null,
			to_address: "0x881d40237659c251811cec9c364ef91dc08d300c",
			to_address_label: "Metamask: Swap Router",
			value: "0",
			gas: "227057",
			gas_price: "21408531812",
			receipt_cumulative_gas_used: "5899877",
			receipt_gas_used: "175459",
			receipt_status: "1",
			block_timestamp: "2024-03-22T18:37:11.000Z",
			block_number: "0x01296c99",
			block_hash:
				"0x93fe503ad785069a80c0933b7487ebf9415384c1c2fea075168bf9cd539d8b7f",
			category: "token swap",
			possible_spam: false,
			method_label: null,
			summary: "Swapped 1,000 DEXT for 0.2383 ETH",
			nft_transfers: [],
			erc20_transfers: [
				{
					token_name: "DEXTools",
					token_symbol: "DEXT",
					token_logo:
						"https://logo.moralis.io/0x1_0xfb7b4564402e5500db5bb6d63ae671302777c75a_9d86761a02d847d9aaf1f1e39efbc1a2",
					token_decimals: "18",
					address: "0xfb7b4564402e5500db5bb6d63ae671302777c75a",
					to_address: "0x74de5d4fcbf63e00296fd95d33236b9794016631",
					to_address_label: null,
					from_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
					from_address_label: null,
					value: "1000000000000000000000",
					value_formatted: "1000",
					log_index: 157,
					possible_spam: false,
					verified_contract: true,
				},
			],
			native_transfers: [
				{
					from_address: "0x74de5d4fcbf63e00296fd95d33236b9794016631",
					from_address_label: null,
					to_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
					to_address_label: null,
					value: "238275838852965672",
					value_formatted: "0.23827583885296566",
					direction: "receive",
					internal_transaction: true,
					token_symbol: "ETH",
					token_logo: "https://cdn.moralis.io/eth/0x.png",
				},
			],
		},
		{
			hash: "0x9fedc02b94733310c82e26db6dac15f13fb5e95352433a97c46a4d03e4094a09",
			nonce: "7",
			transaction_index: "55",
			from_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
			from_address_label: null,
			to_address: "0xfb7b4564402e5500db5bb6d63ae671302777c75a",
			to_address_label: "DEXTools (DEXT)",
			value: "0",
			gas: "46866",
			gas_price: "21408531812",
			receipt_cumulative_gas_used: "5724418",
			receipt_gas_used: "46483",
			receipt_status: "1",
			block_timestamp: "2024-03-22T18:37:11.000Z",
			block_number: "0x01296c99",
			block_hash:
				"0x93fe503ad785069a80c0933b7487ebf9415384c1c2fea075168bf9cd539d8b7f",
			category: "contract interaction",
			possible_spam: false,
			method_label: null,
			summary: "Signed a transaction",
			nft_transfers: [],
			erc20_transfers: [],
			native_transfers: [],
		},
		{
			hash: "0xfc6a70044a9920d98ace4b7a517f023e6551147dc4b27f5c4c29496637ce3dc0",
			nonce: "16",
			transaction_index: "276",
			from_address: "0x57fbe7c6a1f762067efb31b9dbc85d37e4e03c07",
			from_address_label: null,
			to_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
			to_address_label: null,
			value: "159239561259992693",
			gas: "21000",
			gas_price: "20900588186",
			receipt_cumulative_gas_used: "18192187",
			receipt_gas_used: "21000",
			receipt_status: "1",
			block_timestamp: "2024-03-22T18:26:11.000Z",
			block_number: "0x01296c62",
			block_hash:
				"0x216d5bc23ebda89a7ceb899e29cb2dac85f2cbad2a559624b29e0a9687ecfd03",
			category: "receive",
			possible_spam: false,
			method_label: null,
			summary: "Received 0.1592 ETH from 0x57...3c07",
			nft_transfers: [],
			erc20_transfers: [],
			native_transfers: [
				{
					from_address: "0x57fbe7c6a1f762067efb31b9dbc85d37e4e03c07",
					from_address_label: null,
					to_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
					to_address_label: null,
					value: "159239561259992693",
					value_formatted: "0.1592395612599927",
					direction: "receive",
					internal_transaction: false,
					token_symbol: "ETH",
					token_logo: "https://cdn.moralis.io/eth/0x.png",
				},
			],
		},
		{
			hash: "0xa9b1af050e8718c67efc181c1792beedcc1f3f699c1037bc90df53b21416d4a3",
			nonce: "6",
			transaction_index: "129",
			from_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
			from_address_label: null,
			to_address: "0xfb7b4564402e5500db5bb6d63ae671302777c75a",
			to_address_label: "DEXTools (DEXT)",
			value: "0",
			gas: "46806",
			gas_price: "21615186431",
			receipt_cumulative_gas_used: "9925476",
			receipt_gas_used: "46423",
			receipt_status: "1",
			block_timestamp: "2024-03-22T18:23:47.000Z",
			block_number: "0x01296c56",
			block_hash:
				"0x8604f23f805f8176dd1d56c0493dc2967e76f63d9ff296bf97d371b95af19460",
			category: "contract interaction",
			possible_spam: false,
			method_label: null,
			summary: "Signed a transaction",
			nft_transfers: [],
			erc20_transfers: [],
			native_transfers: [],
		},
		{
			hash: "0x634cc50e9f7d8a6082168245a195b6ea8de0bf1d7242b043b9620f5e14da7094",
			nonce: "5",
			transaction_index: "59",
			from_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
			from_address_label: null,
			to_address: "0x04906695d6d12cf5459975d7c3c03356e4ccd460",
			to_address_label: null,
			value: "0",
			gas: "46492",
			gas_price: "19115010223",
			receipt_cumulative_gas_used: "5078184",
			receipt_gas_used: "46492",
			receipt_status: "1",
			block_timestamp: "2022-09-02T16:18:47.000Z",
			block_number: "0xebe744",
			block_hash:
				"0xf9ccfe71fd51d61f507e029a89794cae5adce6e41fe003c36570d60ec117f0ad",
			category: "contract interaction",
			possible_spam: false,
			method_label: null,
			summary: "Signed a transaction",
			nft_transfers: [],
			erc20_transfers: [],
			native_transfers: [],
		},
		{
			hash: "0x127a84577f8e26cdfe33e506f41e4f320778906cea7946e8141a49f0326c5728",
			nonce: "4",
			transaction_index: "169",
			from_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
			from_address_label: null,
			to_address: "0xb63cac384247597756545b500253ff8e607a8020",
			to_address_label: null,
			value: "0",
			gas: "89830",
			gas_price: "35463444490",
			receipt_cumulative_gas_used: "15979489",
			receipt_gas_used: "84906",
			receipt_status: "1",
			block_timestamp: "2022-08-10T16:08:25.000Z",
			block_number: "0xe9b166",
			block_hash:
				"0xe6bfa1ab716e8c9b99d74c3fe3f21d81a3d08915e3a69a44e1000a19792e2477",
			category: "token swap",
			possible_spam: false,
			method_label: null,
			summary: "Swapped 68.181 OHM for 68.181 sOHM",
			nft_transfers: [],
			erc20_transfers: [
				{
					token_name: "Olympus",
					token_symbol: "OHM",
					token_logo:
						"https://logo.moralis.io/0x1_0x64aa3364f17a4d01c6f1751fd97c2bd3d7e7f1d5_4a0076fb7e494d8aa2c5ae48b1c9f688",
					token_decimals: "9",
					address: "0x64aa3364f17a4d01c6f1751fd97c2bd3d7e7f1d5",
					to_address: "0xb63cac384247597756545b500253ff8e607a8020",
					to_address_label: null,
					from_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
					from_address_label: null,
					value: "68180952888",
					value_formatted: "68.180952888",
					log_index: 404,
					possible_spam: false,
					verified_contract: true,
				},
				{
					token_name: "Staked OHM",
					token_symbol: "sOHM",
					token_logo: null,
					token_decimals: "9",
					address: "0x04906695d6d12cf5459975d7c3c03356e4ccd460",
					to_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
					to_address_label: null,
					from_address: "0xb63cac384247597756545b500253ff8e607a8020",
					from_address_label: null,
					value: "68180952888",
					value_formatted: "68.180952888",
					log_index: 406,
					possible_spam: false,
					verified_contract: false,
				},
			],
			native_transfers: [],
		},
		{
			hash: "0xacae7116b6c4d65463fe7c349631e7f809f7940a6cbf3e1f10363dde3c63f5ba",
			nonce: "3",
			transaction_index: "140",
			from_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
			from_address_label: null,
			to_address: "0x64aa3364f17a4d01c6f1751fd97c2bd3d7e7f1d5",
			to_address_label: "Olympus (OHM)",
			value: "0",
			gas: "46479",
			gas_price: "29185630021",
			receipt_cumulative_gas_used: "11842553",
			receipt_gas_used: "46479",
			receipt_status: "1",
			block_timestamp: "2022-08-10T16:06:53.000Z",
			block_number: "0xe9b162",
			block_hash:
				"0x23836ae72875dd2fbc070d797816adc365ab0c99b80e7998a1c142a2bc0ea3f7",
			category: "contract interaction",
			possible_spam: false,
			method_label: null,
			summary: "Signed a transaction",
			nft_transfers: [],
			erc20_transfers: [],
			native_transfers: [],
		},
		{
			hash: "0x47c6bb0580c25af4cbb2d671b65009cd3faea0b9a88927f0eb0a4475c1afd766",
			nonce: "2",
			transaction_index: "331",
			from_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
			from_address_label: null,
			to_address: "0xd9e1ce17f2641f24ae83637ab66a2cca9c378b9f",
			to_address_label: "SushiSwap: Router",
			value: "500000000000000000",
			gas: "174212",
			gas_price: "38278517082",
			receipt_cumulative_gas_used: "28035710",
			receipt_gas_used: "119690",
			receipt_status: "1",
			block_timestamp: "2022-08-10T16:04:58.000Z",
			block_number: "0xe9b156",
			block_hash:
				"0xf1a318a3905e6a5dfc46b1e6ebcac63fb7b2b8a3e774f0f6f212a658a3840fc3",
			category: "token swap",
			possible_spam: false,
			method_label: null,
			summary: "Swapped 0.5 ETH for 68.181 OHM",
			nft_transfers: [],
			erc20_transfers: [
				{
					token_name: "Olympus",
					token_symbol: "OHM",
					token_logo:
						"https://logo.moralis.io/0x1_0x64aa3364f17a4d01c6f1751fd97c2bd3d7e7f1d5_4a0076fb7e494d8aa2c5ae48b1c9f688",
					token_decimals: "9",
					address: "0x64aa3364f17a4d01c6f1751fd97c2bd3d7e7f1d5",
					to_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
					to_address_label: null,
					from_address: "0x69b81152c5a8d35a67b32a4d3772795d96cae4da",
					from_address_label: "SushiSwap: OHM 2",
					value: "68180952888",
					value_formatted: "68.180952888",
					log_index: 548,
					possible_spam: false,
					verified_contract: true,
				},
			],
			native_transfers: [
				{
					from_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
					from_address_label: null,
					to_address: "0xd9e1ce17f2641f24ae83637ab66a2cca9c378b9f",
					to_address_label: "SushiSwap: Router",
					value: "500000000000000000",
					value_formatted: "0.5",
					direction: "send",
					internal_transaction: false,
					token_symbol: "ETH",
					token_logo: "https://cdn.moralis.io/eth/0x.png",
				},
			],
		},
		{
			hash: "0x71b0872edd50cbac6ed86098f0f0c96e2ba01d197e3b8bee5935964db0cf1037",
			nonce: "4192493",
			transaction_index: "156",
			from_address: "0x21a31ee1afc51d94c2efccaa2092ad1028285549",
			from_address_label: "Binance 15",
			to_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
			to_address_label: null,
			value: "584240420000000000",
			gas: "207128",
			gas_price: "35913166695",
			receipt_cumulative_gas_used: "17269257",
			receipt_gas_used: "21000",
			receipt_status: "1",
			block_timestamp: "2022-08-10T15:44:50.000Z",
			block_number: "0xe9b0ff",
			block_hash:
				"0x385bd2dfb8111c733561a94d39c7b4957748765e1b8d501c6c891ff535f54b67",
			category: "receive",
			possible_spam: false,
			method_label: null,
			summary: "Received 0.5842 ETH from 0x21...5549",
			nft_transfers: [],
			erc20_transfers: [],
			native_transfers: [
				{
					from_address: "0x21a31ee1afc51d94c2efccaa2092ad1028285549",
					from_address_label: "Binance 15",
					to_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
					to_address_label: null,
					value: "584240420000000000",
					value_formatted: "0.58424042",
					direction: "receive",
					internal_transaction: false,
					token_symbol: "ETH",
					token_logo: "https://cdn.moralis.io/eth/0x.png",
				},
			],
		},
		{
			hash: "0xad93768d8867d961b73ccc397a86f256397a0216ba2069b8ee07c628a987986d",
			nonce: "1543821",
			transaction_index: "353",
			from_address: "0x4976a4a02f38326660d17bf34b431dc6e2eb2327",
			from_address_label: "Binance 20",
			to_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
			to_address_label: null,
			value: "8800000000000000",
			gas: "207128",
			gas_price: "43365805157",
			receipt_cumulative_gas_used: "20828647",
			receipt_gas_used: "21000",
			receipt_status: "1",
			block_timestamp: "2022-08-10T15:38:30.000Z",
			block_number: "0xe9b0e1",
			block_hash:
				"0x5602be57b504c9eac234a85698a5428086bfa9e549cacf9144a6796c8b10f93b",
			category: "receive",
			possible_spam: false,
			method_label: null,
			summary: "Received 0.0088 ETH from 0x49...2327",
			nft_transfers: [],
			erc20_transfers: [],
			native_transfers: [
				{
					from_address: "0x4976a4a02f38326660d17bf34b431dc6e2eb2327",
					from_address_label: "Binance 20",
					to_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
					to_address_label: null,
					value: "8800000000000000",
					value_formatted: "0.0088",
					direction: "receive",
					internal_transaction: false,
					token_symbol: "ETH",
					token_logo: "https://cdn.moralis.io/eth/0x.png",
				},
			],
		},
		{
			hash: "0x685417f39cd79eb64b627345873bc3496ad6973f2ac3db57c8fc2c8480da9445",
			nonce: "105",
			transaction_index: "6",
			from_address: "0xf7c2286865efdc147b069c74d67d800c2521f605",
			from_address_label: null,
			to_address: "0x4f640f2529ee0cf119a2881485845fa8e61a782a",
			to_address_label: null,
			value: "0",
			gas: "180000",
			gas_price: "30529164962",
			receipt_cumulative_gas_used: "250558",
			receipt_gas_used: "61212",
			receipt_status: "1",
			block_timestamp: "2022-05-10T20:27:31.000Z",
			block_number: "0xe113be",
			block_hash:
				"0xa93d3af3ee3d8d594bccf45582ad5bd2108f168a495afe6627035dea52f84f47",
			category: "airdrop",
			possible_spam: false,
			method_label: null,
			summary: "Airdrop from 0x00...0000",
			nft_transfers: [],
			erc20_transfers: [
				{
					token_name: "pTokens ORE",
					token_symbol: "ORE",
					token_logo:
						"https://logo.moralis.io/0x1_0x4f640f2529ee0cf119a2881485845fa8e61a782a_477bda182df34bbea95f2e7896492bf0",
					token_decimals: "18",
					address: "0x4f640f2529ee0cf119a2881485845fa8e61a782a",
					to_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
					to_address_label: null,
					from_address: "0x0000000000000000000000000000000000000000",
					from_address_label: "Null Address: 0x000...000",
					value: "99900000000000",
					value_formatted: "0.0000999",
					log_index: 3,
					possible_spam: false,
					verified_contract: true,
				},
			],
			native_transfers: [],
		},
		{
			hash: "0xd5701ff8aaabc61050dcd6ec49af5fac7acb5c49c3b26d707603004774b25137",
			nonce: "93",
			transaction_index: "67",
			from_address: "0xf7c2286865efdc147b069c74d67d800c2521f605",
			from_address_label: null,
			to_address: "0x4f640f2529ee0cf119a2881485845fa8e61a782a",
			to_address_label: null,
			value: "0",
			gas: "180000",
			gas_price: "106470000000",
			receipt_cumulative_gas_used: "8767939",
			receipt_gas_used: "61212",
			receipt_status: "1",
			block_timestamp: "2022-04-25T18:47:00.000Z",
			block_number: "0xdf9fee",
			block_hash:
				"0x4014323a7b82b5d738414ac4db2ec6b210d4faf30786a8f8dc1b657b47e88885",
			category: "airdrop",
			possible_spam: false,
			method_label: null,
			summary: "Airdrop from 0x00...0000",
			nft_transfers: [],
			erc20_transfers: [
				{
					token_name: "pTokens ORE",
					token_symbol: "ORE",
					token_logo:
						"https://logo.moralis.io/0x1_0x4f640f2529ee0cf119a2881485845fa8e61a782a_477bda182df34bbea95f2e7896492bf0",
					token_decimals: "18",
					address: "0x4f640f2529ee0cf119a2881485845fa8e61a782a",
					to_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
					to_address_label: null,
					from_address: "0x0000000000000000000000000000000000000000",
					from_address_label: "Null Address: 0x000...000",
					value: "99900000000000",
					value_formatted: "0.0000999",
					log_index: 186,
					possible_spam: false,
					verified_contract: true,
				},
			],
			native_transfers: [],
		},
		{
			hash: "0x722d63e44b7b14d747757db129cfa65bc14036c4856aab67eccd00a6320ea175",
			nonce: "92",
			transaction_index: "35",
			from_address: "0xf7c2286865efdc147b069c74d67d800c2521f605",
			from_address_label: null,
			to_address: "0x4f640f2529ee0cf119a2881485845fa8e61a782a",
			to_address_label: null,
			value: "0",
			gas: "180000",
			gas_price: "99157009564",
			receipt_cumulative_gas_used: "3964473",
			receipt_gas_used: "78312",
			receipt_status: "1",
			block_timestamp: "2022-04-25T18:43:13.000Z",
			block_number: "0xdf9fda",
			block_hash:
				"0x5b8ac96fba141de74adb19d90dad071181fbf91840e57181fae3e3a4110a705d",
			category: "airdrop",
			possible_spam: false,
			method_label: null,
			summary: "Airdrop from 0x00...0000",
			nft_transfers: [],
			erc20_transfers: [
				{
					token_name: "pTokens ORE",
					token_symbol: "ORE",
					token_logo:
						"https://logo.moralis.io/0x1_0x4f640f2529ee0cf119a2881485845fa8e61a782a_477bda182df34bbea95f2e7896492bf0",
					token_decimals: "18",
					address: "0x4f640f2529ee0cf119a2881485845fa8e61a782a",
					to_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
					to_address_label: null,
					from_address: "0x0000000000000000000000000000000000000000",
					from_address_label: "Null Address: 0x000...000",
					value: "99900000000000",
					value_formatted: "0.0000999",
					log_index: 69,
					possible_spam: false,
					verified_contract: true,
				},
			],
			native_transfers: [],
		},
		{
			hash: "0xf3fc67b172b2fe4f151774a99d18390635907bea25718509e079f6e45def4a98",
			nonce: "1",
			transaction_index: "123",
			from_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
			from_address_label: null,
			to_address: "0x1a2a1c938ce3ec39b6d47113c7955baa9dd454f2",
			to_address_label: "Axie Infinity: Ronin Bridge",
			value: "824861381820190218",
			gas: "215887",
			gas_price: "75803503856",
			receipt_cumulative_gas_used: "17416210",
			receipt_gas_used: "163754",
			receipt_status: "1",
			block_timestamp: "2021-12-23T02:25:02.000Z",
			block_number: "0xd377ce",
			block_hash:
				"0xe316497398d5bd33a35e2b0b770ab433db0f498edca0792fbecf629abff62c43",
			category: "send",
			possible_spam: false,
			method_label: null,
			summary: "Sent 0.8249 ETH to 0x1a...54f2",
			nft_transfers: [],
			erc20_transfers: [],
			native_transfers: [
				{
					from_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
					from_address_label: null,
					to_address: "0x1a2a1c938ce3ec39b6d47113c7955baa9dd454f2",
					to_address_label: "Axie Infinity: Ronin Bridge",
					value: "824861381820190218",
					value_formatted: "0.8248613818201902",
					direction: "send",
					internal_transaction: false,
					token_symbol: "ETH",
					token_logo: "https://cdn.moralis.io/eth/0x.png",
				},
			],
		},
		{
			hash: "0x7dea559f0b7572bec17ee192bc1d70163abb4f21e08c68555b1efe7d448b1e68",
			nonce: "170874",
			transaction_index: "87",
			from_address: "0x23f4569002a5a07f0ecf688142eeb6bcd883eef8",
			from_address_label: null,
			to_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
			to_address_label: null,
			value: "811851970000000000",
			gas: "100000",
			gas_price: "93000000000",
			receipt_cumulative_gas_used: "5928936",
			receipt_gas_used: "21000",
			receipt_status: "1",
			block_timestamp: "2021-12-23T02:21:15.000Z",
			block_number: "0xd377b9",
			block_hash:
				"0xa7b061a6964e261202023204da28fc8fb7635431eac85bc48680c52edc5c8ec9",
			category: "receive",
			possible_spam: false,
			method_label: null,
			summary: "Received 0.8119 ETH from 0x23...eef8",
			nft_transfers: [],
			erc20_transfers: [],
			native_transfers: [
				{
					from_address: "0x23f4569002a5a07f0ecf688142eeb6bcd883eef8",
					from_address_label: null,
					to_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
					to_address_label: null,
					value: "811851970000000000",
					value_formatted: "0.81185197",
					direction: "receive",
					internal_transaction: false,
					token_symbol: "ETH",
					token_logo: "https://cdn.moralis.io/eth/0x.png",
				},
			],
		},
		{
			hash: "0xe1effafa9607e131dba16ade5d07d983c23584c1200b4da9cfe6870ccd0c5802",
			nonce: "0",
			transaction_index: "191",
			from_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
			from_address_label: null,
			to_address: "0x1a2a1c938ce3ec39b6d47113c7955baa9dd454f2",
			to_address_label: "Axie Infinity: Ronin Bridge",
			value: "300000000000000000",
			gas: "215887",
			gas_price: "79329898383",
			receipt_cumulative_gas_used: "20099235",
			receipt_gas_used: "163754",
			receipt_status: "1",
			block_timestamp: "2021-12-23T01:04:18.000Z",
			block_number: "0xd3766f",
			block_hash:
				"0x50f2b9d20ac4c17c8cc86c733b7939d6ddff40306b9b92460fd2745e60659afd",
			category: "send",
			possible_spam: false,
			method_label: null,
			summary: "Sent 0.3 ETH to 0x1a...54f2",
			nft_transfers: [],
			erc20_transfers: [],
			native_transfers: [
				{
					from_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
					from_address_label: null,
					to_address: "0x1a2a1c938ce3ec39b6d47113c7955baa9dd454f2",
					to_address_label: "Axie Infinity: Ronin Bridge",
					value: "300000000000000000",
					value_formatted: "0.3",
					direction: "send",
					internal_transaction: false,
					token_symbol: "ETH",
					token_logo: "https://cdn.moralis.io/eth/0x.png",
				},
			],
		},
		{
			hash: "0x59a5c17c41483d152239dd13b6c3a731583c4aaf0487cdcd66741c33d6fc6fc5",
			nonce: "170863",
			transaction_index: "104",
			from_address: "0x23f4569002a5a07f0ecf688142eeb6bcd883eef8",
			from_address_label: null,
			to_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
			to_address_label: null,
			value: "345000000000000000",
			gas: "100000",
			gas_price: "82000000000",
			receipt_cumulative_gas_used: "6332772",
			receipt_gas_used: "21000",
			receipt_status: "1",
			block_timestamp: "2021-12-23T00:55:32.000Z",
			block_number: "0xd37645",
			block_hash:
				"0xe9067430aba69de6f04ec4bc7919c358beeea7b7a979c8f03b2c1039ece5eb0b",
			category: "receive",
			possible_spam: false,
			method_label: null,
			summary: "Received 0.345 ETH from 0x23...eef8",
			nft_transfers: [],
			erc20_transfers: [],
			native_transfers: [
				{
					from_address: "0x23f4569002a5a07f0ecf688142eeb6bcd883eef8",
					from_address_label: null,
					to_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
					to_address_label: null,
					value: "345000000000000000",
					value_formatted: "0.345",
					direction: "receive",
					internal_transaction: false,
					token_symbol: "ETH",
					token_logo: "https://cdn.moralis.io/eth/0x.png",
				},
			],
		},
		{
			hash: "0x36e011a8e0f3e96e0896d3666d81f43c24a90c2b64c3ef3d741d9b3a3bdd4d5f",
			nonce: "321",
			transaction_index: "241",
			from_address: "0x7a6fdc8a113966d1236ab0fab6dc5d3e5c05db88",
			from_address_label: null,
			to_address: "0xfb7b4564402e5500db5bb6d63ae671302777c75a",
			to_address_label: "DEXTools (DEXT)",
			value: "0",
			gas: "77493",
			gas_price: "147150720299",
			receipt_cumulative_gas_used: "12843211",
			receipt_gas_used: "51662",
			receipt_status: "1",
			block_timestamp: "2021-11-08T16:09:17.000Z",
			block_number: "0xcf2a32",
			block_hash:
				"0x9f2b72c98c165e4d76edb1a57f2536930383122e6c905fdcfc3c13ca7ea724d6",
			category: "token receive",
			possible_spam: false,
			method_label: null,
			summary: "Received 1,000 DEXT from 0x7a...db88",
			nft_transfers: [],
			erc20_transfers: [
				{
					token_name: "DEXTools",
					token_symbol: "DEXT",
					token_logo:
						"https://logo.moralis.io/0x1_0xfb7b4564402e5500db5bb6d63ae671302777c75a_9d86761a02d847d9aaf1f1e39efbc1a2",
					token_decimals: "18",
					address: "0xfb7b4564402e5500db5bb6d63ae671302777c75a",
					to_address: "0x6cdaa9acc79d127ee3a916834c36b3892c554ffe",
					to_address_label: null,
					from_address: "0x7a6fdc8a113966d1236ab0fab6dc5d3e5c05db88",
					from_address_label: null,
					value: "1000000000000000000000",
					value_formatted: "1000",
					log_index: 235,
					possible_spam: false,
					verified_contract: true,
				},
			],
			native_transfers: [],
		},
	];

	const transactions: TypedTransaction[] = [];
	transactionsRaw.forEach((t) => {
		t.nft_transfers.forEach((nft: any) => {
			transactions.push({
				from: nft.from_address,
				to: nft.to_address,
				value: nft.value,
				direction:
					address.toLocaleLowerCase() === nft.to_address ? "in" : "out",
				tokenSymbol: nft.token_symbol,
			});
		});
	});

	return NextResponse.json({ transactions });
}
